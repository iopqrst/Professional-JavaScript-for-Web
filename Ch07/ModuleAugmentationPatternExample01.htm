<!DOCTYPE html>
<html>

	<head>
		<title>Module Pattern Example</title>
	</head>

	<body>
		<script type="text/javascript">
			/*
			// 留作纪念
			function bind(obj, eventName, fn) {
				
				if(obj.addEventListener) {
					obj.addEventListener(eventName, fn, false);
				} else {
					obj.attachEvent('on' + eventName, function(){
						fn.call(obj);
					});
				}
				
			}*/
			function BaseComponent() {}

			function OtherComponent() {}
			var application = function() {
				//private variables and functions
				var components = new Array();
				//initialization
				components.push(new BaseComponent());
				//create a local copy of application
				var app = new BaseComponent();
				//public interface
				app.getComponentCount = function() {
					return components.length;
				};
				app.registerComponent = function(component) {
					if (typeof component == "object") {
						components.push(component);
					}
				};
				//return it
				return app;
			}();
			alert(application instanceof BaseComponent);
			application.registerComponent(new OtherComponent());
			alert(application.getComponentCount()); //2
		</script>

	</body>

</html>