<!DOCTYPE html>
<html>

	<head>
		<title>Dynamic Script Example 2</title>
	</head>

	<body>
		<p>You should see an alert saying &quot;hi&quot; after clicking the button.</p>
		<input type="button" value="Add Script" onclick="addScript()">

		<script type="text/javascript">
			function loadScriptString(code) {
				var script = document.createElement("script");
				script.type = "text/javascript";
				try {
					//Firefox, Safari/ chrome/ Opera 浏览器中正常运行，
					//但是在IE中会报错，所以通过异常处理
					script.appendChild(document.createTextNode(code));
				} catch (ex) {
					// ie 中可以正常通过
					script.text = code;
				}
				document.body.appendChild(script);
			}

			function addScript() {
				loadScriptString("function sayHi(){alert('hi');}");
				sayHi();
			}
		</script>
	</body>

</html>