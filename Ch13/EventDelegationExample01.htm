<!DOCTYPE html>
<html>

	<head>
		<title>Event Delegation Example</title>
		<script type="text/javascript" src="EventUtil.js"></script>
	</head>

	<body>
		<ul id="myLinks">
			<li id="goSomewhere">Go somewhere</li>
			<li id="doSomething">Do something</li>
			<li id="sayHi">Say hi</li>
		</ul>
		<script type="text/javascript">
			// 一般使用方式
			(function(){
				var ogoSomeWhere = document.getElementById("goSomewhere");
				var odoSomething = document.getElementById("doSomething");
				var osayHi = document.getElementById("sayHi");
				
				ogoSomeWhere.onclick = function() {
					// do something!!!
				};
				
				odoSomething.onclick = function() {
					// do something !!!
				};
				
				osayHi.onclick = function() {
					// do something!!!
				};
			})();
			
			// 代理使用方式
			(function() {
				var list = document.getElementById("myLinks");
				EventUtil.addHandler(list, "click", function(event) {
					event = EventUtil.getEvent(event);
					var target = EventUtil.getTarget(event);
					switch (target.id) {
						case "doSomething":
							document.title = "I changed the document's title";
							break;
						case "goSomewhere":
							location.href = "http://www.wrox.com";
							break;
						case "sayHi":
							alert("hi");
							break;
					}
				});
			})();
		</script>
	</body>

</html>